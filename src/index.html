<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>前端监控sdk</title>
	</head>

	<body>
		<div id="container">
			<div class="content">
				<input
					type="button"
					value="点击抛出错误"
					onClick="errorOnClick()"
				/>
				<input
					type="button"
					value="点击抛出Promise错误"
					onClick="promiseErrorOnClick()"
				/>

				<input type="button" value="ajax成功" onClick="sendSuccess()" />
				<input type="button" value="ajax失败" onClick="sendError()" />
			</div>
		</div>
		<script>
			function errorOnClick() {
				window.someVar.error = 'eror';
			}
			function promiseErrorOnClick() {
				new Promise(function (resolve, reject) {
					reject();
				}).then((res) => console.log(res));
			}
			function sendSuccess() {
				let xhr = new XMLHttpRequest();
				xhr.open('GET', '/success', true);
				xhr.responseType = 'json';
				xhr.onload = () => {
					console.log(`success`);
				};

				xhr.send();
			}
			function sendError() {
				let xhr = new XMLHttpRequest();
				xhr.open('POST', '/error', true);
				xhr.responseType = 'json';
				xhr.onload = () => {
					console.log(`success`);
				};
				xhr.onerror = () => {
					console.log(`error`);
				};
				xhr.send('name-wf');
			}
		</script>
		<!-- <script src="/222.js"></script> -->

		<!-- <img src="//baidu.com/test.js" alt="图片加载中" /> -->
	</body>
</html>
